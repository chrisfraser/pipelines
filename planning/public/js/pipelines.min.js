/*! pipelines 31-08-2013 */
var Pipelines=["$scope","$http",function(a,b){var c={$container:$("div#pipes"),pipeWidth:150,stages:[],customers:[]},d={pushCustomers:function(a,b){$.each(c.customers,function(d,e){if(c.stages[d],0===b.id)var f=$("<div />").addClass("customer customerTitle").text(e.name);else var f=$("<div />").addClass("customer").text(" ");a.append(f)})}};a.test=function(){var a=b.get("json/001/init.json");a.success(function(a){c.customers=a.sources,c.$container.css({width:a.stages.length*c.pipeWidth+"px",display:"block"}),$.each(a.stages,function(a,b){var e=$("<div />").addClass("pipeBlock"),f=$("<div />").addClass("headder").addClass(0===b.id?"spacer":"").html(0===b.id?"&nbsp;":b.displayName);e.append(f),c.$container.append(e),c.stages.push({$pipe:e,$head:f,stage:b}),d.pushCustomers(e,b)})})}}];